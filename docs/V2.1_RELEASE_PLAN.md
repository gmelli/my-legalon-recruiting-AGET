# v2.1.0 Final Release Plan

**Date**: 2025-09-28
**Status**: Ready for Final Gates
**Time Estimate**: 2-3 hours total

## Phase 1: Pre-Release Validation (45 min)

### Gate 1: Template Hygiene Check
**Objective**: Ensure v2.1 template is clean and professional
**Actions**:
1. Run `python3 scripts/aget_release_hygiene.py`
2. Fix any issues found (should be clean already)
3. Verify score is >90%
4. Check no private information in READMEs

**DECISION POINT**: Is template hygiene score >90%? [GO/NOGO]
- If NOGO: Run `python3 scripts/aget_release_hygiene.py --fix`

### Gate 2: Pre-Release Check Suite
**Objective**: Pass all automated checks
**Actions**:
1. Run `./scripts/aget_pre_release.sh`
2. Verify all checks pass:
   - File permissions ✓
   - Template compliance ✓
   - Python syntax ✓
   - Git status (clean) ✓
   - Documentation complete ✓

**DECISION POINT**: Do all pre-release checks pass? [GO/NOGO]
- If NOGO: Fix identified issues and re-run

### Gate 3: Migration Script Verification
**Objective**: Ensure migration script is battle-tested version
**Actions**:
1. Verify `scripts/migrations/aget_v20_to_v21_migration.py` exists
2. Confirm it accepts v2.0.0-alpha versions
3. Check migration documentation is complete

**DECISION POINT**: Is migration tooling ready? [GO/NOGO]

## Phase 2: Migrated Agents Cleanup (1 hour)

### Gate 4: Fix Previously Migrated Agents
**Objective**: Apply hygiene improvements to the 9 agents migrated earlier
**Context**: These were migrated before we discovered hygiene issues

**Actions** (for each of 9 agents):
```bash
# List of agents to check:
# my-AGET-aget, my-CCB-aget, my-GITHUB-aget
# my-spotify-analyst-aget, my-llm-manager-aget, my-AGET-template
# my-RKB-analytics-aget, my-RKB-CONTENT_ENHANCER-aget, my-RKB-infra-aget

cd ~/github/[agent-name]
# 1. Remove Python cache
find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null
find . -name "*.pyc" -delete

# 2. Clean session artifacts
rm -f .session_state.json .session_state.backup
rm -rf SESSION_NOTES/

# 3. Update .gitignore if needed
grep -q "__pycache__" .gitignore || echo "__pycache__/" >> .gitignore

# 4. Commit cleanup (if any changes)
git add -A && git commit -m "chore: Post-migration hygiene cleanup for v2.1"
```

**DECISION POINT**: Are all 9 agents clean? [GO/NOGO]
- If NOGO: Document issues for post-release fixes

## Phase 3: Version Tagging and Release (30 min)

### Gate 5: Create Release Branch
**Objective**: Prepare release branch from develop
**Actions**:
1. Ensure on develop branch: `git checkout develop`
2. Pull latest: `git pull origin develop`
3. Create release branch: `git checkout -b release/v2.1.0`
4. Update VERSION file to `2.1.0`
5. Commit: `git commit -am "chore: Bump version to 2.1.0"`

**DECISION POINT**: Is release branch created cleanly? [GO/NOGO]

### Gate 6: Merge to Main
**Objective**: Get v2.1.0 into main branch
**Actions**:
1. Checkout main: `git checkout main`
2. Merge release: `git merge --no-ff release/v2.1.0`
3. Tag release: `git tag -a v2.1.0 -m "Release v2.1.0 - The Ownership Release"`
4. Push to origin: `git push origin main --tags`

**DECISION POINT**: Is v2.1.0 tagged in main? [GO/NOGO]

### Gate 7: GitHub Release
**Objective**: Create public GitHub release
**Actions**:
1. Go to https://github.com/gmelli/aget-cli-agent-template/releases
2. Click "Create Release"
3. Select tag: v2.1.0
4. Title: "v2.1.0 - The Ownership Release"
5. Copy release notes from `docs/v2.1.0-RELEASE.md`
6. Attach migration script as release asset
7. Publish release

**DECISION POINT**: Is GitHub release published? [GO/NOGO]

## Phase 4: Post-Release Validation (30 min)

### Gate 8: Clone Test
**Objective**: Verify fresh clone works correctly
**Actions**:
```bash
cd /tmp
git clone https://github.com/gmelli/aget-cli-agent-template.git test-v21
cd test-v21
python3 -m aget init --help  # Should work
python3 scripts/aget_release_hygiene.py  # Should pass
```

**DECISION POINT**: Does fresh clone work? [GO/NOGO]

### Gate 9: Migration Test
**Objective**: Test v2.0→v2.1 migration on fresh agent
**Actions**:
1. Create test v2.0 agent
2. Run migration script
3. Verify success

**DECISION POINT**: Does migration work on fresh agent? [GO/NOGO]

### Gate 10: Documentation Check
**Objective**: Ensure all docs are accessible and correct
**Actions**:
1. Check README renders correctly on GitHub
2. Verify "Try It Now" example is clear
3. Check migration guide is findable
4. Ensure no private information visible

**DECISION POINT**: Is documentation ready for users? [GO/NOGO]

## Phase 5: Communication (15 min)

### Gate 11: Announcement
**Objective**: Notify users of v2.1 availability
**Actions**:
1. Update aget-aget repository with v2.1 status
2. Create announcement:
   - Key features (ownership model, migrations, hygiene)
   - Breaking changes (pattern renaming)
   - Migration path
3. Consider: GitHub discussions, relevant communities

**DECISION POINT**: Is v2.1 communicated? [GO/NOGO]

## Rollback Plan

If critical issues found post-release:
1. Document issue immediately
2. If severe: Tag v2.1.1 with hotfix
3. If breaking: Revert tag, fix, re-release as v2.1.1
4. Update migration script if needed
5. Communicate changes

## Success Criteria

✅ v2.1.0 is:
- Tagged and released on GitHub
- Clean (hygiene score >90%)
- Documented (migration guide, release notes)
- Battle-tested (9 agents migrated successfully)
- Accessible (fresh clone works)

## Time Breakdown

- Phase 1: 45 min (validation)
- Phase 2: 60 min (agent cleanup) - can be deferred
- Phase 3: 30 min (release)
- Phase 4: 30 min (post-release checks)
- Phase 5: 15 min (communication)
- **Total: ~3 hours**

## Notes

- Agent cleanup (Phase 2) could be done post-release if time constrained
- Most critical: Gates 1-3, 5-7, 8-10
- Keep migration script handy for support

---
*Ready to proceed with Gate 1 when you return!*